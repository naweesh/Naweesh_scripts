Recreating the triggers from the triggers we saved earlier.


-- only these 3 are disabled WC_ApprovedDups,SysDistContentCreateAndLinkGroup,AddL1ItemOnNewSubTask
/* ENABLE TRIGGERS */

USE [Naweesh_UAT]
DECLARE @TRIGGERNAME NVARCHAR(MAX)
DECLARE @TRIGGERSQL NVARCHAR(MAX)
DECLARE @TRIGGERSCHEMA NVARCHAR(MAX)
DECLARE @TRIGGERTABLE NVARCHAR(MAX)
DECLARE @I INT
SET @I = 1
WHILE (@I < (SELECT COUNT(*) FROM STAGING.DEV.TRIGGERLIST)) --SELECT * FROM STAGING.DEV.TRIGGERLIST
BEGIN	-- disable trigger dbo.triggername on dbo.tablename
	SET @TRIGGERNAME = (SELECT TOP 1 trigger_name FROM STAGING.DEV.TRIGGERLIST WHERE ROWNUMBER = @I)
	SET @TRIGGERSCHEMA = (SELECT TOP 1 table_schema FROM STAGING.DEV.TRIGGERLIST WHERE trigger_name = @TRIGGERNAME)
	SET @TRIGGERTABLE = (SELECT TOP 1 table_name FROM STAGING.DEV.TRIGGERLIST WHERE trigger_name = @TRIGGERNAME)
	SET @TRIGGERSQL = ('ENABLE TRIGGER ' + @TRIGGERSCHEMA + '.' + @TRIGGERNAME + ' ON ' + @TRIGGERSCHEMA + '.' + @TRIGGERTABLE)
	EXEC (@TRIGGERSQL)
	PRINT @TRIGGERSQL

	SET @I += 1
END
